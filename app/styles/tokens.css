/* Jay Life Design Tokens */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Colors */
    --color-acid: #BFFF00;
    --color-cream: #FAF9F5;
    --color-charcoal: #1A1A1A;
    --color-muted: #68809A;
    --color-coral: #FF6F61;
    --color-lavender: #E6E6FA;

    /* Semantic */
    --bg-surface: var(--color-cream);
    --bg-card: #FFFFFF;
    --text-primary: var(--color-charcoal);
    --text-muted: var(--color-muted);
    --action-primary: var(--color-acid);
    --action-danger: var(--color-coral);

    /* Spacing */
    --space-xs: 8px;
    --space-sm: 16px;
    --space-md: 24px;
    --space-lg: 48px;
    --space-xl: 80px;

    /* Touch */
    --touch-min: 48px;
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);

    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
  }

  html {
    font-family: 'Inter', system-ui, sans-serif;
    background-color: var(--bg-surface);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    min-height: 100vh;
    min-height: 100dvh;
  }

  /* Touch target enforcement */
  button,
  a,
  [role="button"] {
    min-height: var(--touch-min);
    min-width: var(--touch-min);
  }

  /* Focus states for accessibility */
  :focus-visible {
    outline: 2px solid var(--color-acid);
    outline-offset: 2px;
  }

  /* Remove default outline, use custom focus-visible */
  :focus:not(:focus-visible) {
    outline: none;
  }

  /* Screen reader only utility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only.focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

@layer components {
  /* Ritual Card */
  .ritual-card {
    @apply bg-white rounded-card p-6 shadow-card;
  }

  /* Specs (monospace ingredient list) */
  .specs {
    @apply font-mono text-specs text-muted;
  }

  /* Primary button */
  .btn-primary {
    @apply w-full min-h-touch bg-acid text-charcoal font-bold rounded-button
           flex items-center justify-center
           transition-all active:scale-[0.98]
           focus-visible:ring-2 focus-visible:ring-charcoal focus-visible:ring-offset-2 focus-visible:ring-offset-cream;
  }

  /* Bottom nav safe area padding */
  .pb-safe {
    padding-bottom: calc(64px + var(--safe-area-bottom));
  }
}

@layer utilities {
  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Snap scroll */
  .snap-x-mandatory {
    scroll-snap-type: x mandatory;
  }

  .snap-center {
    scroll-snap-align: center;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
